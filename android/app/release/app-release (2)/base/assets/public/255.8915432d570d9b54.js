"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[255],{255:(b,h,d)=>{d.r(h),d.d(h,{AdminPageModule:()=>rt});var g=d(2200),u=d(4341),s=d(7343),x=d(8132),f=d(467),t=d(3664),r=d(2615),_=d(4192),p=d(6386),k=d(6789);function P(o,c){1&o&&(t.j41(0,"div",27),t.nrm(1,"ion-spinner",28),t.j41(2,"p"),t.EFF(3,"Carregando checklists..."),t.k0s()())}function F(o,c){if(1&o&&(t.j41(0,"ion-card",29)(1,"ion-card-content"),t.nrm(2,"ion-icon",30),t.EFF(3),t.k0s()()),2&o){const n=t.XpG();t.R7$(3),t.SpI(" ",n.erro," ")}}function C(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3),t.k0s()()()),2&o){const n=t.XpG();t.R7$(3),t.SpI(" Checklists (",n.checklistsFiltrados.length,") ")}}function E(o,c){1&o&&(t.j41(0,"div",31),t.nrm(1,"ion-icon",32),t.j41(2,"h3"),t.EFF(3,"Nenhum checklist encontrado"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Ajuste os filtros ou verifique a conex\xe3o com o servidor."),t.k0s()())}function v(o,c){if(1&o&&(t.j41(0,"p"),t.nrm(1,"ion-icon",41),t.EFF(2),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(2),t.SpI(" Inspetor: ",n.usuario_nome)}}function R(o,c){if(1&o){const n=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",34),t.bIt("click",function(){const e=r.eBV(n).$implicit,a=t.XpG(2);return r.Njj(a.verDetalhes(e))}),t.nrm(2,"ion-icon",35),t.j41(3,"ion-label")(4,"h2")(5,"strong"),t.EFF(6),t.k0s()(),t.j41(7,"p"),t.EFF(8),t.k0s(),t.DNE(9,v,3,1,"p",24),t.j41(10,"p",36),t.EFF(11),t.k0s()(),t.j41(12,"ion-badge",37),t.EFF(13),t.k0s()(),t.j41(14,"ion-item-options",38)(15,"ion-item-option",39),t.bIt("click",function(){const e=r.eBV(n).$implicit,a=t.XpG(2);return r.Njj(a.verDetalhes(e))}),t.nrm(16,"ion-icon",40),t.k0s()()()}if(2&o){const n=c.$implicit,i=t.XpG(2);t.R7$(6),t.JRh(n.placa),t.R7$(2),t.Lme("KM: ",n.km_inicial," | Combust\xedvel: ",n.nivel_combustivel),t.R7$(),t.Y8G("ngIf",n.usuario_nome),t.R7$(2),t.JRh(i.formatarData(n.data_realizacao)),t.R7$(2),t.SpI("ID: ",n.id)}}function O(o,c){if(1&o&&(t.j41(0,"ion-list"),t.DNE(1,R,17,6,"ion-item-sliding",33),t.k0s()),2&o){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.checklistsFiltrados)}}function j(o,c){if(1&o&&(t.j41(0,"p")(1,"strong"),t.EFF(2,"Inspetor:"),t.k0s(),t.EFF(3),t.k0s()),2&o){const n=t.XpG(3);t.R7$(3),t.SpI(" ",n.checklistDetalhado.usuario.nome)}}function T(o,c){if(1&o&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",46),t.j41(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6,"Tempo: "),t.j41(7,"strong"),t.EFF(8),t.k0s()(),t.j41(9,"p",47),t.EFF(10),t.nrm(11,"br"),t.EFF(12),t.k0s()()()),2&o){const n=c.$implicit,i=t.XpG(4);t.R7$(4),t.JRh(i.getNomeTela(n.tela)),t.R7$(4),t.JRh(i.formatarTempo(n.tempo_segundos)),t.R7$(2),t.SpI(" In\xedcio: ",i.formatarData(n.data_hora_inicio)),t.R7$(2),t.SpI(" Fim: ",i.formatarData(n.data_hora_fim)," ")}}function D(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Tempo de Telas"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,T,13,4,"ion-item",33),t.k0s(),t.j41(7,"ion-item",45)(8,"ion-label")(9,"h2")(10,"strong"),t.EFF(11,"Tempo Total:"),t.k0s(),t.EFF(12),t.k0s()()()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.temposTelas),t.R7$(6),t.SpI(" ",n.getTotalTempo())}}function $(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto do Painel"),t.k0s(),t.j41(3,"img",49),t.bIt("click",function(){r.eBV(n);const e=t.XpG(3);return r.Njj(e.expandirFoto(e.checklistDetalhado.fotos.PAINEL))}),t.k0s()()}if(2&o){const n=t.XpG(3);t.R7$(3),t.Y8G("src",n.checklistDetalhado.fotos.PAINEL,t.B4B)}}function A(o,c){if(1&o&&(t.j41(0,"ion-item")(1,"ion-label",50)(2,"h3"),t.EFF(3,"Observa\xe7\xf5es do Painel:"),t.k0s(),t.j41(4,"p"),t.EFF(5),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(5),t.JRh(n.checklistDetalhado.observacao_painel)}}function I(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.foto,t.B4B)("alt",n.item)}}function G(o,c){if(1&o&&(t.j41(0,"div")(1,"ion-item")(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"ion-badge",51),t.EFF(7),t.k0s()()()(),t.DNE(8,I,2,2,"div",44),t.k0s()),2&o){const n=c.$implicit,i=t.XpG(4);t.R7$(4),t.JRh(n.item),t.R7$(2),t.Y8G("color",i.getCorStatus(n.status)),t.R7$(),t.JRh(n.status||"N/A"),t.R7$(),t.Y8G("ngIf",n.foto)}}function N(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Inspe\xe7\xe3o do Motor"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,G,9,4,"div",33),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.checklistDetalhado.itens.MOTOR)}}function X(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.foto,t.B4B)("alt",n.item)}}function Y(o,c){if(1&o&&(t.j41(0,"div")(1,"ion-item")(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"ion-badge",51),t.EFF(7),t.k0s()()()(),t.DNE(8,X,2,2,"div",44),t.k0s()),2&o){const n=c.$implicit,i=t.XpG(4);t.R7$(4),t.JRh(n.item),t.R7$(2),t.Y8G("color",i.getCorStatus(n.status)),t.R7$(),t.JRh(n.status||"N/A"),t.R7$(),t.Y8G("ngIf",n.foto)}}function z(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Sistema El\xe9trico"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,Y,9,4,"div",33),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.checklistDetalhado.itens.ELETRICO)}}function B(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.foto,t.B4B)("alt",n.item)}}function S(o,c){if(1&o&&(t.j41(0,"div")(1,"ion-item")(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"ion-badge",51),t.EFF(7),t.k0s()()()(),t.DNE(8,B,2,2,"div",44),t.k0s()),2&o){const n=c.$implicit,i=t.XpG(4);t.R7$(4),t.JRh(n.item),t.R7$(2),t.Y8G("color",i.getCorStatus(n.status)),t.R7$(),t.JRh(n.status||"N/A"),t.R7$(),t.Y8G("ngIf",n.foto)}}function L(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Limpeza"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,S,9,4,"div",33),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.checklistDetalhado.itens.LIMPEZA)}}function y(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.foto,t.B4B)("alt",n.item)}}function w(o,c){if(1&o&&(t.j41(0,"div")(1,"ion-item")(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"ion-badge",51),t.EFF(7),t.k0s()()()(),t.DNE(8,y,2,2,"div",44),t.k0s()),2&o){const n=c.$implicit;t.R7$(4),t.JRh(n.item),t.R7$(2),t.Y8G("color","contem"===n.status?"success":"danger"),t.R7$(),t.JRh("contem"===n.status?"Cont\xe9m":"N\xe3o Cont\xe9m"),t.R7$(),t.Y8G("ngIf",n.foto)}}function V(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Ferramentas e Equipamentos"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,w,9,4,"div",33),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.checklistDetalhado.itens.FERRAMENTA)}}function U(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto Frontal"),t.k0s(),t.j41(3,"img",54),t.bIt("click",function(){r.eBV(n);const e=t.XpG(4);return r.Njj(e.expandirFoto(e.checklistDetalhado.fotos.FRONTAL))}),t.k0s()()}if(2&o){const n=t.XpG(4);t.R7$(3),t.Y8G("src",n.checklistDetalhado.fotos.FRONTAL,t.B4B)}}function J(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto Traseira"),t.k0s(),t.j41(3,"img",55),t.bIt("click",function(){r.eBV(n);const e=t.XpG(4);return r.Njj(e.expandirFoto(e.checklistDetalhado.fotos.TRASEIRA))}),t.k0s()()}if(2&o){const n=t.XpG(4);t.R7$(3),t.Y8G("src",n.checklistDetalhado.fotos.TRASEIRA,t.B4B)}}function H(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto Lateral Direita"),t.k0s(),t.j41(3,"img",56),t.bIt("click",function(){r.eBV(n);const e=t.XpG(4);return r.Njj(e.expandirFoto(e.checklistDetalhado.fotos.LATERAL_DIREITA))}),t.k0s()()}if(2&o){const n=t.XpG(4);t.R7$(3),t.Y8G("src",n.checklistDetalhado.fotos.LATERAL_DIREITA,t.B4B)}}function K(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto Lateral Esquerda"),t.k0s(),t.j41(3,"img",57),t.bIt("click",function(){r.eBV(n);const e=t.XpG(4);return r.Njj(e.expandirFoto(e.checklistDetalhado.fotos.LATERAL_ESQUERDA))}),t.k0s()()}if(2&o){const n=t.XpG(4);t.R7$(3),t.Y8G("src",n.checklistDetalhado.fotos.LATERAL_ESQUERDA,t.B4B)}}function W(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Fotos do Ve\xedculo"),t.k0s()(),t.j41(4,"ion-card-content")(5,"div",53),t.DNE(6,U,4,1,"div",44)(7,J,4,1,"div",44)(8,H,4,1,"div",44)(9,K,4,1,"div",44),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngIf",n.checklistDetalhado.fotos.FRONTAL),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.fotos.TRASEIRA),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.fotos.LATERAL_DIREITA),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.fotos.LATERAL_ESQUERDA)}}function Z(o,c){if(1&o&&(t.j41(0,"p")(1,"strong"),t.EFF(2,"Press\xe3o:"),t.k0s(),t.EFF(3),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(3),t.SpI(" ",n.pressao," PSI")}}function Q(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto do Pneu"),t.k0s(),t.j41(3,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("src",n.foto,t.B4B)("alt",n.item)}}function q(o,c){if(1&o){const n=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2,"Foto da Caneta"),t.k0s(),t.j41(3,"img",52),t.bIt("click",function(){r.eBV(n);const e=t.XpG().$implicit,a=t.XpG(4);return r.Njj(a.expandirFoto(e.foto_caneta))}),t.k0s()()}if(2&o){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("src",n.foto_caneta,t.B4B)("alt",n.item+" - Caneta")}}function tt(o,c){if(1&o&&(t.j41(0,"div")(1,"ion-item")(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"ion-badge",51),t.EFF(7),t.k0s()(),t.DNE(8,Z,4,1,"p",24),t.k0s()(),t.DNE(9,Q,4,2,"div",44)(10,q,4,2,"div",44),t.k0s()),2&o){const n=c.$implicit,i=t.XpG(4);t.R7$(4),t.JRh(n.item),t.R7$(2),t.Y8G("color",i.getCorStatus(n.status)),t.R7$(),t.JRh(n.status||"N/A"),t.R7$(),t.Y8G("ngIf",n.pressao),t.R7$(),t.Y8G("ngIf",n.foto),t.R7$(),t.Y8G("ngIf",n.foto_caneta)}}function nt(o,c){if(1&o&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Pneus"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-list"),t.DNE(6,tt,11,6,"div",33),t.k0s()()()),2&o){const n=t.XpG(3);t.R7$(6),t.Y8G("ngForOf",n.checklistDetalhado.itens.PNEU)}}function ot(o,c){if(1&o&&(t.j41(0,"ion-content")(1,"div",43)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),t.EFF(5,"Informa\xe7\xf5es do Ve\xedculo"),t.k0s()(),t.j41(6,"ion-card-content")(7,"p")(8,"strong"),t.EFF(9,"ID:"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p")(12,"strong"),t.EFF(13,"Placa:"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"p")(16,"strong"),t.EFF(17,"KM Inicial:"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"p")(20,"strong"),t.EFF(21,"Combust\xedvel:"),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"p")(24,"strong"),t.EFF(25,"Data:"),t.k0s(),t.EFF(26),t.k0s(),t.DNE(27,j,4,1,"p",24),t.k0s()(),t.DNE(28,D,13,2,"ion-card",24),t.j41(29,"ion-card")(30,"ion-card-header")(31,"ion-card-title"),t.EFF(32,"Painel do Ve\xedculo"),t.k0s()(),t.j41(33,"ion-card-content"),t.DNE(34,$,4,1,"div",44)(35,A,6,1,"ion-item",24),t.k0s()(),t.DNE(36,N,7,1,"ion-card",24)(37,z,7,1,"ion-card",24)(38,L,7,1,"ion-card",24)(39,V,7,1,"ion-card",24)(40,W,10,4,"ion-card",24)(41,nt,7,1,"ion-card",24),t.k0s()()),2&o){const n=t.XpG(2);t.R7$(10),t.SpI(" ",n.checklistDetalhado.id),t.R7$(4),t.SpI(" ",n.checklistDetalhado.placa),t.R7$(4),t.SpI(" ",n.checklistDetalhado.km_inicial),t.R7$(4),t.SpI(" ",n.checklistDetalhado.nivel_combustivel),t.R7$(4),t.SpI(" ",n.formatarData(n.checklistDetalhado.data_realizacao)),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.usuario),t.R7$(),t.Y8G("ngIf",n.temposTelas&&n.temposTelas.length>0),t.R7$(6),t.Y8G("ngIf",null==n.checklistDetalhado.fotos?null:n.checklistDetalhado.fotos.PAINEL),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.observacao_painel),t.R7$(),t.Y8G("ngIf",(null==n.checklistDetalhado.itens?null:n.checklistDetalhado.itens.MOTOR)&&n.checklistDetalhado.itens.MOTOR.length>0),t.R7$(),t.Y8G("ngIf",(null==n.checklistDetalhado.itens?null:n.checklistDetalhado.itens.ELETRICO)&&n.checklistDetalhado.itens.ELETRICO.length>0),t.R7$(),t.Y8G("ngIf",(null==n.checklistDetalhado.itens?null:n.checklistDetalhado.itens.LIMPEZA)&&n.checklistDetalhado.itens.LIMPEZA.length>0),t.R7$(),t.Y8G("ngIf",(null==n.checklistDetalhado.itens?null:n.checklistDetalhado.itens.FERRAMENTA)&&n.checklistDetalhado.itens.FERRAMENTA.length>0),t.R7$(),t.Y8G("ngIf",n.checklistDetalhado.fotos),t.R7$(),t.Y8G("ngIf",(null==n.checklistDetalhado.itens?null:n.checklistDetalhado.itens.PNEU)&&n.checklistDetalhado.itens.PNEU.length>0)}}function et(o,c){if(1&o){const n=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Detalhes do Checklist"),t.k0s(),t.j41(4,"ion-buttons",2)(5,"ion-button",3),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.fecharModal())}),t.nrm(6,"ion-icon",42),t.k0s()()()(),t.DNE(7,ot,42,15,"ion-content",24)}if(2&o){const n=t.XpG();t.R7$(7),t.Y8G("ngIf",n.checklistDetalhado)}}function it(o,c){if(1&o){const n=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar",58)(2,"ion-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-buttons",59)(5,"ion-button",60),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.resetZoom())}),t.nrm(6,"ion-icon",61),t.k0s()(),t.j41(7,"ion-buttons",2)(8,"ion-button",60),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.zoomOut())}),t.nrm(9,"ion-icon",62),t.k0s(),t.j41(10,"ion-button",60),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.zoomIn())}),t.nrm(11,"ion-icon",63),t.k0s(),t.j41(12,"ion-button",3),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.fecharFotoExpandida())}),t.nrm(13,"ion-icon",42),t.k0s()()()(),t.j41(14,"ion-content",64)(15,"div",65),t.nrm(16,"img",66),t.k0s(),t.j41(17,"div",67)(18,"ion-fab-button",68),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.zoomOut())}),t.nrm(19,"ion-icon",69),t.k0s(),t.j41(20,"ion-chip",70)(21,"ion-label"),t.EFF(22),t.k0s()(),t.j41(23,"ion-fab-button",68),t.bIt("click",function(){r.eBV(n);const e=t.XpG();return r.Njj(e.zoomIn())}),t.nrm(24,"ion-icon",71),t.k0s()()()}if(2&o){const n=t.XpG();t.R7$(3),t.SpI("Foto - Zoom ",n.zoomLevel,"x"),t.R7$(2),t.Y8G("disabled",1===n.zoomLevel),t.R7$(3),t.Y8G("disabled",n.zoomLevel<=.5),t.R7$(2),t.Y8G("disabled",n.zoomLevel>=5),t.R7$(6),t.xc7("transform","scale("+n.zoomLevel+")"),t.Y8G("src",n.fotoExpandida,t.B4B),t.R7$(2),t.Y8G("disabled",n.zoomLevel<=.5),t.R7$(4),t.SpI("",n.zoomLevel,"x"),t.R7$(),t.Y8G("disabled",n.zoomLevel>=5)}}const at=[{path:"",component:(()=>{var o;class c{constructor(i,e,a,l){this.router=i,this.apiService=e,this.tempoTelasService=a,this.alertController=l,this.checklists=[],this.checklistsFiltrados=[],this.carregando=!1,this.erro="",this.filtroPlaca="",this.filtroDataInicio="",this.filtroDataFim="",this.totalChecklists=0,this.checklistsHoje=0,this.checklistsSemana=0,this.checklistDetalhado=null,this.mostrarModal=!1,this.temposTelas=[],this.fotoExpandida=null,this.mostrarFotoExpandida=!1,this.zoomLevel=1}ngOnInit(){this.carregarChecklists()}carregarChecklists(){this.carregando=!0,this.erro="",this.apiService.buscarTodos(1e3).subscribe({next:i=>{this.checklists=i,this.checklistsFiltrados=i,this.carregando=!1,this.calcularEstatisticas(),console.log("Checklists carregados:",this.checklists)},error:i=>{console.error("Erro ao carregar checklists:",i);const e=i.error?.erro||i.error?.message||i.message||"Erro desconhecido",a=i.error?.detalhes||i.statusText||"";this.erro=`Erro ao carregar hist\xf3rico: ${e}${a?" - "+a:""}`,this.carregando=!1}})}calcularEstatisticas(){this.totalChecklists=this.checklists.length;const i=new Date;i.setHours(0,0,0,0);const e=new Date;e.setDate(i.getDate()-7),e.setHours(0,0,0,0),this.checklistsHoje=this.checklists.filter(a=>{const l=new Date(a.data_realizacao);return l.setHours(0,0,0,0),l.getTime()===i.getTime()}).length,this.checklistsSemana=this.checklists.filter(a=>new Date(a.data_realizacao)>=e).length}aplicarFiltros(){this.checklistsFiltrados=this.checklists.filter(i=>{const e=!this.filtroPlaca||i.placa.toLowerCase().includes(this.filtroPlaca.toLowerCase()),a=!this.filtroDataInicio||new Date(i.data_realizacao)>=new Date(this.filtroDataInicio),l=!this.filtroDataFim||new Date(i.data_realizacao)<=new Date(this.filtroDataFim);return e&&a&&l})}buscarPorPlaca(i){this.filtroPlaca=i.target.value,this.aplicarFiltros()}limparFiltros(){this.filtroPlaca="",this.filtroDataInicio="",this.filtroDataFim="",this.checklistsFiltrados=this.checklists}verDetalhes(i){var e=this;return(0,f.A)(function*(){e.carregando=!0;try{e.apiService.buscarCompleto(i.id).subscribe({next:a=>{e.checklistDetalhado=a,e.tempoTelasService.buscarPorInspecao(i.id).subscribe({next:l=>{e.temposTelas=l,console.log("Tempos de telas:",l)},error:l=>{console.error("Erro ao buscar tempos de telas:",l),e.temposTelas=[]}}),e.mostrarModal=!0,e.carregando=!1,console.log("Detalhes completos:",a)},error:(a=(0,f.A)(function*(l){console.error("Erro ao carregar detalhes:",l),e.carregando=!1;const m=l.error?.erro||l.error?.message||l.message||"Erro desconhecido",M=l.error?.detalhes||l.statusText||"";yield(yield e.alertController.create({header:"Erro ao Carregar Detalhes",message:`\n              <strong>Erro:</strong> ${m}<br>\n              ${M?`<strong>Detalhes:</strong> ${M}`:""}\n            `,buttons:[{text:"Ver Dados B\xe1sicos",handler:()=>{e.mostrarAlertBasico(i)}},"Fechar"]})).present()}),function(m){return a.apply(this,arguments)})})}catch(a){console.error("Erro:",a),e.carregando=!1,e.mostrarAlertBasico(i)}var a})()}mostrarAlertBasico(i){var e=this;return(0,f.A)(function*(){yield(yield e.alertController.create({header:`Checklist - ${i.placa}`,message:`\n        <strong>ID:</strong> ${i.id}<br>\n        <strong>Placa:</strong> ${i.placa}<br>\n        <strong>KM Inicial:</strong> ${i.km_inicial}<br>\n        <strong>Combust\xedvel:</strong> ${i.nivel_combustivel}<br>\n        <strong>Data:</strong> ${e.formatarData(i.data_realizacao)}\n      `,buttons:["OK"]})).present()})()}fecharModal(){this.mostrarModal=!1,this.checklistDetalhado=null,this.temposTelas=[]}expandirFoto(i){this.fotoExpandida=i,this.mostrarFotoExpandida=!0,this.zoomLevel=1}fecharFotoExpandida(){this.mostrarFotoExpandida=!1,this.fotoExpandida=null,this.zoomLevel=1}zoomIn(){this.zoomLevel<5&&(this.zoomLevel+=.5)}zoomOut(){this.zoomLevel>.5&&(this.zoomLevel-=.5)}resetZoom(){this.zoomLevel=1}formatarData(i){return i?new Date(i).toLocaleString("pt-BR"):"-"}recarregar(i){this.apiService.buscarTodos(1e3).subscribe({next:e=>{this.checklists=e,this.aplicarFiltros(),this.calcularEstatisticas(),i.target.complete()},error:e=>{console.error("Erro ao recarregar:",e),i.target.complete()}})}voltar(){this.router.navigate(["/"])}getCorStatus(i){if(!i)return"medium";const e=i.toLowerCase();return e.includes("bom")||e.includes("\xf3timo")||e.includes("otimo")?"success":e.includes("ruim")||e.includes("cr\xedtico")||e.includes("critico")?"danger":e.includes("regular")||e.includes("aten\xe7\xe3o")||e.includes("atencao")?"warning":e.includes("satisfat\xf3rio")||e.includes("satisfatorio")?"primary":"medium"}formatarTempo(i){if(!i||0===i)return"0s";const e=Math.floor(i/60),a=i%60;return 0===e?`${a}s`:0===a?`${e}m`:`${e}m ${a}s`}getTotalTempo(){if(!this.temposTelas||0===this.temposTelas.length)return"0s";const i=this.temposTelas.reduce((e,a)=>e+(a.tempo_segundos||0),0);return this.formatarTempo(i)}getNomeTela(i){return{"inspecao-inicial":"Inspe\xe7\xe3o Inicial","inspecao-veiculo":"Inspe\xe7\xe3o do Ve\xedculo","fotos-veiculo":"Fotos do Ve\xedculo",pneus:"Pneus"}[i]||i}static#t=o=()=>(this.\u0275fac=function(e){return new(e||c)(t.rXU(_.Ix),t.rXU(p.G),t.rXU(k.i),t.rXU(s.hG))},this.\u0275cmp=t.VBU({type:c,selectors:[["app-admin"]],standalone:!1,decls:68,vars:15,consts:[[3,"translucent"],["color","primary"],["slot","end"],[3,"click"],["slot","icon-only","name","refresh"],["color","light",3,"fullscreen"],["collapse","condense"],["size","large"],["slot","fixed",3,"ionRefresh"],[1,"content-container"],["expand","block","fill","solid","color","light","routerLink","/checklist-completo"],["slot","start","name","clipboard"],[1,"stats-container"],[1,"stat-card"],["name","document-text","color","primary"],["name","today","color","success"],["name","calendar","color","warning"],["placeholder","Buscar por placa","debounce","500",3,"ngModelChange","ionInput","ngModel"],["position","stacked"],["type","date",3,"ngModelChange","ionChange","ngModel"],["expand","block","fill","outline","color","medium",1,"clear-filters-btn",3,"click"],["slot","start","name","close-circle"],["class","loading-container",4,"ngIf"],["color","danger",4,"ngIf"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"didDismiss","isOpen"],[1,"loading-container"],["name","crescent","color","primary"],["color","danger"],["name","alert-circle"],[1,"empty-state"],["name","document-text-outline"],[4,"ngFor","ngForOf"],["button","",3,"click"],["name","car-sport","slot","start","color","primary"],[1,"data-texto"],["slot","end","color","primary"],["side","end"],["color","primary",3,"click"],["slot","icon-only","name","eye"],["name","person"],["name","close"],[1,"detalhes-container"],["class","foto-item",4,"ngIf"],["lines","none"],["name","time-outline","slot","start","color","primary"],[1,"ion-text-wrap",2,"font-size","0.85em","color","var(--ion-color-medium)"],[1,"foto-item"],["alt","Painel",3,"click","src"],[1,"ion-text-wrap"],[3,"color"],[3,"click","src","alt"],[1,"foto-grid"],["alt","Frontal",3,"click","src"],["alt","Traseira",3,"click","src"],["alt","Lateral Direita",3,"click","src"],["alt","Lateral Esquerda",3,"click","src"],["color","dark"],["slot","start"],[3,"click","disabled"],["name","contract-outline"],["name","remove-circle-outline"],["name","add-circle-outline"],[1,"foto-expandida-content"],[1,"foto-expandida-container"],["alt","Foto Expandida",1,"foto-expandida",3,"src"],[1,"zoom-controls"],["size","small","color","light",3,"click","disabled"],["name","remove"],["color","light"],["name","add"]],template:function(e,a){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Painel Administrativo"),t.k0s(),t.j41(4,"ion-buttons",2)(5,"ion-button",3),t.bIt("click",function(){return a.carregarChecklists()}),t.nrm(6,"ion-icon",4),t.k0s()()()(),t.j41(7,"ion-content",5)(8,"ion-header",6)(9,"ion-toolbar",1)(10,"ion-title",7),t.EFF(11,"Admin"),t.k0s()()(),t.j41(12,"ion-refresher",8),t.bIt("ionRefresh",function(m){return a.recarregar(m)}),t.nrm(13,"ion-refresher-content"),t.k0s(),t.j41(14,"div",9)(15,"ion-card",1)(16,"ion-card-content")(17,"ion-button",10),t.nrm(18,"ion-icon",11),t.EFF(19," Acessar Checklist Completo "),t.k0s()()(),t.j41(20,"div",12)(21,"ion-card",13)(22,"ion-card-content"),t.nrm(23,"ion-icon",14),t.j41(24,"h2"),t.EFF(25),t.k0s(),t.j41(26,"p"),t.EFF(27,"Total"),t.k0s()()(),t.j41(28,"ion-card",13)(29,"ion-card-content"),t.nrm(30,"ion-icon",15),t.j41(31,"h2"),t.EFF(32),t.k0s(),t.j41(33,"p"),t.EFF(34,"Hoje"),t.k0s()()(),t.j41(35,"ion-card",13)(36,"ion-card-content"),t.nrm(37,"ion-icon",16),t.j41(38,"h2"),t.EFF(39),t.k0s(),t.j41(40,"p"),t.EFF(41,"7 Dias"),t.k0s()()()(),t.j41(42,"ion-card")(43,"ion-card-header")(44,"ion-card-title"),t.EFF(45,"Filtros"),t.k0s()(),t.j41(46,"ion-card-content")(47,"ion-searchbar",17),t.mxI("ngModelChange",function(m){return t.DH7(a.filtroPlaca,m)||(a.filtroPlaca=m),m}),t.bIt("ionInput",function(m){return a.buscarPorPlaca(m)}),t.k0s(),t.j41(48,"ion-item")(49,"ion-label",18),t.EFF(50,"Data Inicial"),t.k0s(),t.j41(51,"ion-input",19),t.mxI("ngModelChange",function(m){return t.DH7(a.filtroDataInicio,m)||(a.filtroDataInicio=m),m}),t.bIt("ionChange",function(){return a.aplicarFiltros()}),t.k0s()(),t.j41(52,"ion-item")(53,"ion-label",18),t.EFF(54,"Data Final"),t.k0s(),t.j41(55,"ion-input",19),t.mxI("ngModelChange",function(m){return t.DH7(a.filtroDataFim,m)||(a.filtroDataFim=m),m}),t.bIt("ionChange",function(){return a.aplicarFiltros()}),t.k0s()(),t.j41(56,"ion-button",20),t.bIt("click",function(){return a.limparFiltros()}),t.nrm(57,"ion-icon",21),t.EFF(58," Limpar Filtros "),t.k0s()()(),t.DNE(59,P,4,0,"div",22)(60,F,4,1,"ion-card",23)(61,C,4,1,"ion-card",24)(62,E,6,0,"div",25)(63,O,2,1,"ion-list",24),t.k0s()(),t.j41(64,"ion-modal",26),t.bIt("didDismiss",function(){return a.fecharModal()}),t.DNE(65,et,8,1,"ng-template"),t.k0s(),t.j41(66,"ion-modal",26),t.bIt("didDismiss",function(){return a.fecharFotoExpandida()}),t.DNE(67,it,25,10,"ng-template"),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(7),t.Y8G("fullscreen",!0),t.R7$(18),t.JRh(a.totalChecklists),t.R7$(7),t.JRh(a.checklistsHoje),t.R7$(7),t.JRh(a.checklistsSemana),t.R7$(8),t.R50("ngModel",a.filtroPlaca),t.R7$(4),t.R50("ngModel",a.filtroDataInicio),t.R7$(4),t.R50("ngModel",a.filtroDataFim),t.R7$(4),t.Y8G("ngIf",a.carregando),t.R7$(),t.Y8G("ngIf",a.erro&&!a.carregando),t.R7$(),t.Y8G("ngIf",!a.carregando&&!a.erro),t.R7$(),t.Y8G("ngIf",!a.carregando&&!a.erro&&0===a.checklistsFiltrados.length),t.R7$(),t.Y8G("ngIf",!a.carregando&&a.checklistsFiltrados.length>0),t.R7$(),t.Y8G("isOpen",a.mostrarModal),t.R7$(2),t.Y8G("isOpen",a.mostrarFotoExpandida))},dependencies:[g.Sq,g.bT,u.BC,u.vS,s.In,s.Jm,s.QW,s.b_,s.I9,s.ME,s.tN,s.ZB,s.W9,s.YW,s.eU,s.iq,s.$w,s.uz,s.LU,s.CE,s.A7,s.he,s.nf,s.To,s.Ki,s.S1,s.w2,s.BC,s.ai,s.Sb,s.Gw,s.N7,x.Wk],styles:['@charset "UTF-8";.content-container[_ngcontent-%COMP%]{padding:16px;width:100%;margin:0}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:12px;margin-bottom:16px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{margin:0;text-align:center}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px 8px;background:#1a1a1a;border-radius:8px;border:1px solid #3a3a3a}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:8px 0 4px;font-size:24px;font-weight:700;color:#fff}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#c9c9c9;text-transform:uppercase}ion-card[_ngcontent-%COMP%]{margin-bottom:16px;box-shadow:0 2px 8px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}ion-card[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0 0 8px}ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;margin-bottom:8px}ion-card[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]{margin-top:12px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:80px;color:var(--ion-color-medium);margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-dark);margin:0 0 10px;font-size:20px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin:0}ion-list[_ngcontent-%COMP%]{background:transparent;padding:0}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]{margin-bottom:8px}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;border-radius:8px;box-shadow:0 2px 4px #0000001a}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-size:18px;margin-bottom:4px}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:13px;margin:2px 0}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.data-texto[_ngcontent-%COMP%]{font-size:12px;font-style:italic;color:var(--ion-color-medium-shade)}ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}ion-card[color=danger][_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}ion-card[color=danger][_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.detalhes-container[_ngcontent-%COMP%]{padding:16px;width:100%;height:100%;overflow-y:auto}.detalhes-container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-bottom:16px}.detalhes-container[_ngcontent-%COMP%]   .foto-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-top:16px}.detalhes-container[_ngcontent-%COMP%]   .foto-item[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.detalhes-container[_ngcontent-%COMP%]   .foto-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:600;color:var(--ion-color-primary)}.detalhes-container[_ngcontent-%COMP%]   .foto-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:contain;border-radius:8px;box-shadow:0 2px 8px #0000001a;border:2px solid var(--ion-color-light-shade);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.detalhes-container[_ngcontent-%COMP%]   .foto-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 12px #00000026}.detalhes-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent}.detalhes-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;margin-bottom:8px}.detalhes-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;text-transform:uppercase}ion-modal[_ngcontent-%COMP%]{--width: 95%;--height: 90%;--border-radius: 16px}@media (min-width: 768px){ion-modal[_ngcontent-%COMP%]{--width: 90%;--height: 85%}.stats-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}ion-card[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}ion-card[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px}ion-card[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px}.detalhes-container[_ngcontent-%COMP%]   .foto-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}@media (min-width: 1024px){ion-modal[_ngcontent-%COMP%]{--width: 85%;--height: 80%}}.foto-expandida-content[_ngcontent-%COMP%]{--background: #000}.foto-expandida-content[_ngcontent-%COMP%]   .foto-expandida-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%;padding:20px;overflow:auto}.foto-expandida-content[_ngcontent-%COMP%]   .foto-expandida-container[_ngcontent-%COMP%]   .foto-expandida[_ngcontent-%COMP%]{max-width:none;max-height:none;width:100%;height:auto;object-fit:contain;border-radius:8px;box-shadow:0 4px 20px #00000080;transition:transform .3s ease;transform-origin:center center;cursor:grab}.foto-expandida-content[_ngcontent-%COMP%]   .foto-expandida-container[_ngcontent-%COMP%]   .foto-expandida[_ngcontent-%COMP%]:active{cursor:grabbing}.foto-expandida-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:12px;background:#000000b3;padding:12px 20px;border-radius:50px;box-shadow:0 4px 20px #00000080;z-index:1000}.foto-expandida-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--box-shadow: 0 2px 8px rgba(0, 0, 0, .3)}.foto-expandida-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   ion-fab-button[disabled][_ngcontent-%COMP%]{opacity:.4}.foto-expandida-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin:0;font-weight:700;min-width:60px;text-align:center}.foto-expandida-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px}ion-modal[_ngcontent-%COMP%]:has(.foto-expandida-content){--width: 100%;--height: 100%;--border-radius: 0}']}))}return o(),c})()}];let ct=(()=>{var o;class c{static#t=o=()=>(this.\u0275fac=function(e){return new(e||c)},this.\u0275mod=t.$C({type:c}),this.\u0275inj=r.G2t({imports:[x.iI.forChild(at),x.iI]}))}return o(),c})(),rt=(()=>{var o;class c{static#t=o=()=>(this.\u0275fac=function(e){return new(e||c)},this.\u0275mod=t.$C({type:c}),this.\u0275inj=r.G2t({imports:[g.MD,u.YN,s.bv,ct]}))}return o(),c})()},5312:(b,h,d)=>{d.d(h,{c:()=>g});const g={production:!0,apiUrl:"https://floripa.in9automacao.com.br"}},6789:(b,h,d)=>{d.d(h,{i:()=>x});var g=d(5312),u=d(2615),s=d(9330);let x=(()=>{var f;class t{constructor(_){this.http=_,this.baseUrl=g.c.apiUrl,this.inicioTela=null,this.telaAtual=null}iniciarTela(_){this.telaAtual=_,this.inicioTela=new Date,console.log(`[Tempo] Iniciado rastreamento da tela: ${_} \xe0s ${this.inicioTela.toISOString()}`)}finalizarTela(_,p){if(!this.inicioTela||!this.telaAtual)return console.warn("[Tempo] Tentativa de finalizar tela sem ter iniciado rastreamento"),null;const k=new Date,P=Math.round((k.getTime()-this.inicioTela.getTime())/1e3),F={tela:this.telaAtual,tempo_segundos:P,data_hora_inicio:this.formatarDataHora(this.inicioTela),data_hora_fim:this.formatarDataHora(k),inspecao_id:_||null,usuario_id:p||null};return console.log(`[Tempo] Finalizando tela: ${this.telaAtual}, tempo: ${P}s`,F),this.inicioTela=null,this.telaAtual=null,this.salvarTempo(F)}cancelarRastreamento(){this.telaAtual&&console.log(`[Tempo] Cancelando rastreamento da tela: ${this.telaAtual}`),this.inicioTela=null,this.telaAtual=null}salvarTempo(_){return this.http.post(`${this.baseUrl}/veicular_tempotelas.php`,_)}buscarPorInspecao(_){return this.http.get(`${this.baseUrl}/veicular_tempotelas.php?acao=inspecao&inspecao_id=${_}`)}buscarPorUsuario(_){return this.http.get(`${this.baseUrl}/veicular_tempotelas.php?acao=usuario&usuario_id=${_}`)}buscarEstatisticas(){return this.http.get(`${this.baseUrl}/veicular_tempotelas.php?acao=estatisticas`)}formatarDataHora(_){return`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")} ${String(_.getHours()).padStart(2,"0")}:${String(_.getMinutes()).padStart(2,"0")}:${String(_.getSeconds()).padStart(2,"0")}`}getTempoAtualSegundos(){return this.inicioTela?Math.round(((new Date).getTime()-this.inicioTela.getTime())/1e3):0}isRastreamentoAtivo(){return null!==this.inicioTela}getTelaAtual(){return this.telaAtual}static#t=f=()=>(this.\u0275fac=function(p){return new(p||t)(u.KVO(s.Qq))},this.\u0275prov=u.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}))}return f(),t})()}}]);