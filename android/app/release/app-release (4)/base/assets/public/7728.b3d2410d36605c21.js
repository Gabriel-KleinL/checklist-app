"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7728],{7728:(X,F,l)=>{l.r(F),l.d(F,{FotosVeiculoPageModule:()=>G});var g=l(2200),_=l(4341),d=l(7343),b=l(8132),u=l(467),h=l(7691),x=l(3791),o=l(3664),r=l(2615),C=l(4192),M=l(9041),P=l(3008),k=l(4796),E=l(6789),j=l(6386);const O=["canvas"];function V(c,s){if(1&c){const n=o.RV6();o.j41(0,"ion-button",26),o.bIt("click",function(){r.eBV(n);const t=o.XpG().index,a=o.XpG();return r.Njj(a.abrirMarcacao(t))}),o.nrm(1,"ion-icon",27),o.EFF(2," Marcar Foto "),o.k0s()}}function y(c,s){if(1&c){const n=o.RV6();o.j41(0,"div",28),o.nrm(1,"img",29),o.j41(2,"ion-button",30),o.bIt("click",function(){r.eBV(n);const t=o.XpG().index,a=o.XpG();return r.Njj(a.removerFoto(t))}),o.nrm(3,"ion-icon",31),o.k0s()()}if(2&c){const n=o.XpG().$implicit;o.R7$(),o.Y8G("src",n.foto,o.B4B)}}function T(c,s){1&c&&(o.j41(0,"div",32),o.nrm(1,"ion-icon",33),o.j41(2,"p"),o.EFF(3,"Nenhuma foto"),o.k0s()())}function I(c,s){if(1&c){const n=o.RV6();o.j41(0,"ion-card",19)(1,"ion-card-header")(2,"ion-card-title"),o.nrm(3,"ion-icon",20),o.EFF(4),o.k0s()(),o.j41(5,"ion-card-content")(6,"ion-button",21),o.bIt("click",function(){const t=r.eBV(n).index,a=o.XpG();return r.Njj(a.tirarFoto(t))}),o.nrm(7,"ion-icon",22),o.EFF(8),o.k0s(),o.DNE(9,V,3,0,"ion-button",23)(10,y,4,1,"div",24)(11,T,4,0,"div",25),o.k0s()()}if(2&c){const n=s.$implicit;o.Y8G("id","tour-foto-"+s.index),o.R7$(3),o.Y8G("name",n.icone),o.R7$(),o.SpI(" ",n.tipo," "),o.R7$(2),o.Y8G("fill",n.foto?"outline":"solid"),o.R7$(2),o.SpI(" ",n.foto?"Alterar Foto":"Tirar Foto"," "),o.R7$(),o.Y8G("ngIf",n.foto),o.R7$(),o.Y8G("ngIf",n.foto),o.R7$(),o.Y8G("ngIf",!n.foto)}}function D(c,s){if(1&c){const n=o.RV6();o.j41(0,"div",34)(1,"div",35)(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"ion-button",36),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.fecharMarcacao())}),o.nrm(5,"ion-icon",37),o.k0s()(),o.j41(6,"div",38)(7,"div",39)(8,"label"),o.EFF(9,"Cor:"),o.k0s(),o.j41(10,"div",40)(11,"button",41),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.corMarcacao="#ff0000")}),o.k0s(),o.j41(12,"button",42),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.corMarcacao="#ffff00")}),o.k0s(),o.j41(13,"button",43),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.corMarcacao="#00ff00")}),o.k0s(),o.j41(14,"button",44),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.corMarcacao="#0000ff")}),o.k0s(),o.j41(15,"button",45),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.corMarcacao="#ffffff")}),o.k0s()()(),o.j41(16,"div",46)(17,"label"),o.EFF(18,"Espessura:"),o.k0s(),o.j41(19,"ion-range",47),o.mxI("ngModelChange",function(t){r.eBV(n);const a=o.XpG();return o.DH7(a.espessuraLinha,t)||(a.espessuraLinha=t),r.Njj(t)}),o.k0s()(),o.j41(20,"ion-button",48),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.limparMarcacoes())}),o.nrm(21,"ion-icon",49),o.EFF(22," Limpar "),o.k0s()(),o.j41(23,"div",50)(24,"canvas",51,0),o.bIt("mousedown",function(t){r.eBV(n);const a=o.XpG();return r.Njj(a.iniciarDesenho(t))})("mousemove",function(t){r.eBV(n);const a=o.XpG();return r.Njj(a.desenhar(t))})("mouseup",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.pararDesenho())})("mouseleave",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.pararDesenho())})("touchstart",function(t){r.eBV(n);const a=o.XpG();return r.Njj(a.iniciarDesenho(t))})("touchmove",function(t){r.eBV(n);const a=o.XpG();return r.Njj(a.desenhar(t))})("touchend",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.pararDesenho())}),o.k0s()(),o.j41(26,"div",52)(27,"ion-button",53),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.salvarMarcacao())}),o.nrm(28,"ion-icon",54),o.EFF(29," Salvar Marca\xe7\xe3o "),o.k0s()()()}if(2&c){const n=o.XpG();o.R7$(3),o.SpI("Marcar Foto - ",null==n.fotos[n.fotoAtualIndex]?null:n.fotos[n.fotoAtualIndex].tipo),o.R7$(8),o.AVh("active","#ff0000"===n.corMarcacao),o.R7$(),o.AVh("active","#ffff00"===n.corMarcacao),o.R7$(),o.AVh("active","#00ff00"===n.corMarcacao),o.R7$(),o.AVh("active","#0000ff"===n.corMarcacao),o.R7$(),o.AVh("active","#ffffff"===n.corMarcacao),o.R7$(4),o.R50("ngModel",n.espessuraLinha)}}function A(c,s){if(1&c){const n=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar",55)(2,"ion-title"),o.EFF(3,"Tutorial - Fotos do Ve\xedculo"),o.k0s(),o.j41(4,"ion-buttons",3)(5,"ion-button",4),o.bIt("click",function(){r.eBV(n);const t=o.XpG();return r.Njj(t.fecharAjuda())}),o.nrm(6,"ion-icon",56),o.k0s()()()(),o.j41(7,"ion-content",57)(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title",55),o.nrm(11,"ion-icon",58),o.EFF(12," Como tirar as fotos do ve\xedculo "),o.k0s()(),o.j41(13,"ion-card-content")(14,"p"),o.EFF(15,"Esta etapa documenta o estado atual do ve\xedculo. Tire fotos claras de todos os \xe2ngulos para criar um registro visual completo."),o.k0s()()(),o.j41(16,"ion-card")(17,"ion-card-header")(18,"ion-card-subtitle"),o.nrm(19,"ion-icon",59),o.EFF(20," Foto Frontal "),o.k0s()(),o.j41(21,"ion-card-content")(22,"p")(23,"strong"),o.EFF(24,"Como tirar:"),o.k0s()(),o.j41(25,"ul")(26,"li"),o.EFF(27,"Posicione-se de frente para o ve\xedculo"),o.k0s(),o.j41(28,"li"),o.EFF(29,"Capture toda a parte frontal (cap\xf4, para-choque, far\xf3is)"),o.k0s(),o.j41(30,"li"),o.EFF(31,"Mantenha dist\xe2ncia de cerca de 3-4 metros"),o.k0s(),o.j41(32,"li"),o.EFF(33,"Certifique-se de que a placa esteja vis\xedvel e leg\xedvel"),o.k0s(),o.j41(34,"li"),o.EFF(35,"Evite sombras e reflexos no ve\xedculo"),o.k0s()()()(),o.j41(36,"ion-card")(37,"ion-card-header")(38,"ion-card-subtitle"),o.nrm(39,"ion-icon",60),o.EFF(40," Foto Traseira "),o.k0s()(),o.j41(41,"ion-card-content")(42,"p")(43,"strong"),o.EFF(44,"Como tirar:"),o.k0s()(),o.j41(45,"ul")(46,"li"),o.EFF(47,"Posicione-se atr\xe1s do ve\xedculo"),o.k0s(),o.j41(48,"li"),o.EFF(49,"Capture toda a parte traseira (porta-malas, para-choque, lanternas)"),o.k0s(),o.j41(50,"li"),o.EFF(51,"Mantenha dist\xe2ncia de cerca de 3-4 metros"),o.k0s(),o.j41(52,"li"),o.EFF(53,"A placa traseira deve estar vis\xedvel"),o.k0s(),o.j41(54,"li"),o.EFF(55,"Verifique se n\xe3o h\xe1 obst\xe1culos atr\xe1s do ve\xedculo"),o.k0s()()()(),o.j41(56,"ion-card")(57,"ion-card-header")(58,"ion-card-subtitle"),o.nrm(59,"ion-icon",61),o.EFF(60," Foto Lateral Direita "),o.k0s()(),o.j41(61,"ion-card-content")(62,"p")(63,"strong"),o.EFF(64,"Como tirar:"),o.k0s()(),o.j41(65,"ul")(66,"li"),o.EFF(67,"Posicione-se ao lado direito do ve\xedculo"),o.k0s(),o.j41(68,"li"),o.EFF(69,"Capture todo o lado direito (portas, rodas, espelhos)"),o.k0s(),o.j41(70,"li"),o.EFF(71,"Mantenha o ve\xedculo centralizado na foto"),o.k0s(),o.j41(72,"li"),o.EFF(73,"A foto deve mostrar da frente at\xe9 a traseira"),o.k0s(),o.j41(74,"li"),o.EFF(75,"Verifique se as rodas est\xe3o vis\xedveis"),o.k0s()()()(),o.j41(76,"ion-card")(77,"ion-card-header")(78,"ion-card-subtitle"),o.nrm(79,"ion-icon",62),o.EFF(80," Foto Lateral Esquerda "),o.k0s()(),o.j41(81,"ion-card-content")(82,"p")(83,"strong"),o.EFF(84,"Como tirar:"),o.k0s()(),o.j41(85,"ul")(86,"li"),o.EFF(87,"Posicione-se ao lado esquerdo do ve\xedculo"),o.k0s(),o.j41(88,"li"),o.EFF(89,"Capture todo o lado esquerdo (portas, rodas, espelhos)"),o.k0s(),o.j41(90,"li"),o.EFF(91,"Mantenha o ve\xedculo centralizado na foto"),o.k0s(),o.j41(92,"li"),o.EFF(93,"A foto deve mostrar da frente at\xe9 a traseira"),o.k0s(),o.j41(94,"li"),o.EFF(95,"Verifique se as rodas est\xe3o vis\xedveis"),o.k0s()()()(),o.j41(96,"ion-card")(97,"ion-card-header")(98,"ion-card-title"),o.nrm(99,"ion-icon",63),o.EFF(100," Recurso de Marca\xe7\xe3o "),o.k0s()(),o.j41(101,"ion-card-content")(102,"p")(103,"strong"),o.EFF(104,'Use o recurso "Marcar Foto" para destacar detalhes:'),o.k0s()(),o.j41(105,"ul")(106,"li")(107,"strong"),o.EFF(108,"Amassados:"),o.k0s(),o.EFF(109," Circule \xe1reas com danos na lataria"),o.k0s(),o.j41(110,"li")(111,"strong"),o.EFF(112,"Arranh\xf5es:"),o.k0s(),o.EFF(113," Marque riscos ou arranh\xf5es vis\xedveis"),o.k0s(),o.j41(114,"li")(115,"strong"),o.EFF(116,"\xc1reas com problemas:"),o.k0s(),o.EFF(117," Destaque qualquer defeito visual"),o.k0s()(),o.j41(118,"p")(119,"strong"),o.EFF(120,"Como usar:"),o.k0s()(),o.j41(121,"ol")(122,"li"),o.EFF(123,"Tire a foto normalmente"),o.k0s(),o.j41(124,"li"),o.EFF(125,'Clique em "Marcar Foto"'),o.k0s(),o.j41(126,"li"),o.EFF(127,"Escolha a cor e espessura da caneta"),o.k0s(),o.j41(128,"li"),o.EFF(129,"Desenhe sobre a foto para destacar os problemas"),o.k0s(),o.j41(130,"li"),o.EFF(131,'Clique em "Salvar Marca\xe7\xe3o"'),o.k0s()()()(),o.j41(132,"ion-card",64)(133,"ion-card-content")(134,"ion-text",2)(135,"p"),o.nrm(136,"ion-icon",65),o.j41(137,"strong"),o.EFF(138," Dica de Ilumina\xe7\xe3o:"),o.k0s(),o.EFF(139," Tire as fotos com boa ilumina\xe7\xe3o natural. Evite fotografar contra a luz (contra o sol). "),o.k0s()()()(),o.j41(140,"ion-card",66)(141,"ion-card-content")(142,"ion-text",2)(143,"p"),o.nrm(144,"ion-icon",67),o.j41(145,"strong"),o.EFF(146," Importante:"),o.k0s(),o.EFF(147," Todas as 4 fotos s\xe3o obrigat\xf3rias. Elas servem como registro do estado do ve\xedculo no momento da inspe\xe7\xe3o. "),o.k0s()()()()()}}const w=[{path:"",component:(()=>{var c;class s{constructor(e,t,a,i,m,p){this.router=e,this.checklistData=t,this.localStorage=a,this.authService=i,this.tempoTelasService=m,this.apiService=p,this.fotos=[{tipo:"Foto Frontal",icone:"arrow-up",foto:void 0},{tipo:"Foto Traseira",icone:"arrow-down",foto:void 0},{tipo:"Foto Lateral Direita",icone:"arrow-forward",foto:void 0},{tipo:"Foto Lateral Esquerda",icone:"arrow-back",foto:void 0}],this.mostrarMarcacao=!1,this.fotoAtualIndex=-1,this.imagemCarregada=null,this.desenhando=!1,this.corMarcacao="#ff0000",this.espessuraLinha=10,this.exibirAjuda=!1}ngOnInit(){var e=this;return(0,u.A)(function*(){e.tempoTelasService.iniciarTela("fotos-veiculo"),yield e.recuperarDadosSalvos(),yield e.verificarPrimeiroAcesso()})()}ngOnDestroy(){const e=this.authService.currentUserValue?.id,t=this.tempoTelasService.finalizarTela(void 0,e);t&&t.subscribe({next:a=>console.log("[Tempo] Salvo com sucesso:",a),error:a=>console.error("[Tempo] Erro ao salvar:",a)})}recuperarDadosSalvos(){var e=this;return(0,u.A)(function*(){const t=yield e.localStorage.recuperarFotosVeiculo();t&&(e.fotos=t)})()}salvarLocalmente(){var e=this;return(0,u.A)(function*(){yield e.localStorage.salvarFotosVeiculo(e.fotos)})()}tirarFoto(e){var t=this;return(0,u.A)(function*(){try{const a=yield h.i7.getPhoto({quality:50,allowEditing:!1,resultType:h.LK.DataUrl,source:h.ru.Camera,width:800,height:800});t.fotos[e].foto=a.dataUrl,t.fotos[e].fotoOriginal=a.dataUrl,yield t.salvarLocalmente()}catch(a){console.log("Foto cancelada ou erro:",a)}})()}removerFoto(e){var t=this;return(0,u.A)(function*(){t.fotos[e].foto=void 0,t.fotos[e].fotoOriginal=void 0,yield t.salvarLocalmente()})()}abrirMarcacao(e){this.fotoAtualIndex=e,this.mostrarMarcacao=!0,setTimeout(()=>{this.carregarImagemNoCanvas()},100)}carregarImagemNoCanvas(){const e=this.canvasRef?.nativeElement;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=new Image;a.onload=()=>{if(this.imagemCarregada=a,e.width=a.width,e.height=a.height,t.drawImage(a,0,0),this.fotos[this.fotoAtualIndex].foto!==this.fotos[this.fotoAtualIndex].fotoOriginal){const i=new Image;i.onload=()=>{t.drawImage(i,0,0)},i.src=this.fotos[this.fotoAtualIndex].foto}},a.src=this.fotos[this.fotoAtualIndex].fotoOriginal}iniciarDesenho(e){this.desenhando=!0;const t=this.canvasRef.nativeElement,a=t.getContext("2d");if(!a)return;const i=t.getBoundingClientRect(),m=(e.touches?e.touches[0].clientX:e.clientX)-i.left,p=(e.touches?e.touches[0].clientY:e.clientY)-i.top,f=t.width/i.width,v=t.height/i.height;a.beginPath(),a.moveTo(m*f,p*v),a.strokeStyle=this.corMarcacao,a.lineWidth=this.espessuraLinha,a.lineCap="round"}desenhar(e){if(!this.desenhando)return;e.preventDefault();const t=this.canvasRef.nativeElement,a=t.getContext("2d");if(!a)return;const i=t.getBoundingClientRect();a.lineTo(t.width/i.width*((e.touches?e.touches[0].clientX:e.clientX)-i.left),t.height/i.height*((e.touches?e.touches[0].clientY:e.clientY)-i.top)),a.stroke()}pararDesenho(){this.desenhando=!1}limparMarcacoes(){const e=this.canvasRef.nativeElement,t=e.getContext("2d");!t||!this.imagemCarregada||(t.clearRect(0,0,e.width,e.height),t.drawImage(this.imagemCarregada,0,0))}salvarMarcacao(){var e=this;return(0,u.A)(function*(){e.fotos[e.fotoAtualIndex].foto=e.canvasRef.nativeElement.toDataURL("image/jpeg",.9),e.fecharMarcacao(),yield e.salvarLocalmente()})()}fecharMarcacao(){this.mostrarMarcacao=!1,this.fotoAtualIndex=-1,this.imagemCarregada=null,this.desenhando=!1}validarFormulario(){return this.fotos.every(e=>void 0!==e.foto)}salvarFotos(){var e=this;return(0,u.A)(function*(){if(!e.validarFormulario())return void alert("Por favor, tire todas as fotos do ve\xedculo antes de continuar.");const t=e.authService.currentUserValue?.id,a=e.checklistData.getInspecaoId();if(a)try{const i={"Foto Frontal":"FRONTAL","Foto Traseira":"TRASEIRA","Foto Lateral Direita":"LATERAL_DIREITA","Foto Lateral Esquerda":"LATERAL_ESQUERDA"},m=e.fotos.filter(f=>f.foto).map(f=>({tipo:i[f.tipo],foto:f.foto}));console.log("[Inspe\xe7\xe3o] Atualizando inspe\xe7\xe3o com fotos..."),yield e.apiService.atualizarInspecao(a,{fotos:m}).toPromise(),console.log("[Inspe\xe7\xe3o] Fotos atualizadas com sucesso"),e.checklistData.setFotosVeiculo(e.fotos);const p=e.tempoTelasService.finalizarTela(a,t);if(p)try{yield p.toPromise(),console.log("[Tempo] Tempo da tela fotos-veiculo salvo com sucesso com inspecao_id:",a)}catch(f){console.error("[Tempo] Erro ao salvar tempo:",f)}e.router.navigate(["/pneus"])}catch(i){console.error("[Inspe\xe7\xe3o] Erro ao atualizar fotos:",i),alert("Erro ao salvar fotos. Por favor, tente novamente.")}else alert("Erro: ID da inspe\xe7\xe3o n\xe3o encontrado. Por favor, reinicie o processo.")})()}voltar(){this.router.navigate(["/inspecao-veiculo"])}mostrarAjuda(){this.exibirAjuda=!0}fecharAjuda(){this.exibirAjuda=!1}verificarPrimeiroAcesso(){return(0,u.A)(function*(){})()}iniciarTour(){var e=this;const t=(0,x.B)({showProgress:!0,showButtons:["next"],allowClose:!1,steps:[{element:"#tour-foto-0",popover:{title:"1. Foto Frontal",description:"Tire uma foto da frente do ve\xedculo. Posicione-se de frente e capture todo o para-choque, cap\xf4 e far\xf3is. A placa deve estar vis\xedvel.",side:"bottom",align:"start"}},{element:"#tour-foto-1",popover:{title:"2. Foto Traseira",description:"Tire uma foto da parte traseira do ve\xedculo. Capture o porta-malas, para-choque traseiro e lanternas. A placa traseira deve estar vis\xedvel.",side:"bottom",align:"start"}},{element:"#tour-foto-2",popover:{title:"3. Foto Lateral Direita",description:"Tire uma foto do lado direito do ve\xedculo. Capture todas as portas, rodas e espelhos do lado direito.",side:"bottom",align:"start"}},{element:"#tour-foto-3",popover:{title:"4. Foto Lateral Esquerda",description:"Tire uma foto do lado esquerdo do ve\xedculo. Capture todas as portas, rodas e espelhos do lado esquerdo.",side:"bottom",align:"start"}},{element:"#tour-grid-fotos",popover:{title:"Recurso de Marca\xe7\xe3o",description:'Depois de tirar uma foto, voc\xea pode usar o bot\xe3o "Marcar Foto" para destacar amassados, arranh\xf5es ou outros problemas desenhando sobre a imagem.',side:"bottom",align:"start"}},{element:"#tour-salvar-fotos",popover:{title:"5. Salvar e Continuar",description:'Ap\xf3s tirar todas as 4 fotos obrigat\xf3rias, clique em "Salvar Fotos" para continuar para a pr\xf3xima etapa.',side:"top",align:"center"}},{popover:{title:"Tutorial Conclu\xeddo!",description:"Agora tire as 4 fotos do ve\xedculo para continuar o checklist!"}}],onDestroyStarted:(a=(0,u.A)(function*(){yield e.marcarTutorialComoConcluido(),t.destroy()}),function(){return a.apply(this,arguments)})});var a;t.drive()}marcarTutorialComoConcluido(){return(0,u.A)(function*(){})()}static#o=c=()=>(this.\u0275fac=function(t){return new(t||s)(o.rXU(C.Ix),o.rXU(M.I),o.rXU(P.s),o.rXU(k.u),o.rXU(E.i),o.rXU(j.G))},this.\u0275cmp=o.VBU({type:s,selectors:[["app-fotos-veiculo"]],viewQuery:function(t,a){if(1&t&&o.GBs(O,5),2&t){let i;o.mGM(i=o.lsd())&&(a.canvasRef=i.first)}},standalone:!1,decls:26,vars:6,consts:[["canvas",""],[3,"translucent"],["color","dark"],["slot","end"],[3,"click"],["slot","icon-only","name","help-circle"],["color","dark",3,"fullscreen"],["collapse","condense"],["size","large"],[1,"form-container"],[1,"info-card"],["name","information-circle","color","primary"],["id","tour-grid-fotos",1,"fotos-grid"],["class","foto-card",3,"id",4,"ngFor","ngForOf"],["id","tour-salvar-fotos",1,"save-section"],["expand","block","size","large","color","primary",3,"click","disabled"],["slot","start","name","checkmark-circle"],["class","marcacao-modal",4,"ngIf"],[3,"didDismiss","isOpen"],[1,"foto-card",3,"id"],["color","primary",3,"name"],["expand","block","color","primary",3,"click","fill"],["slot","start","name","camera"],["expand","block","color","secondary","fill","outline",3,"click",4,"ngIf"],["class","photo-preview",4,"ngIf"],["class","photo-placeholder",4,"ngIf"],["expand","block","color","secondary","fill","outline",3,"click"],["slot","start","name","create-outline"],[1,"photo-preview"],[3,"src"],["size","small","color","danger","fill","clear",3,"click"],["slot","icon-only","name","trash"],[1,"photo-placeholder"],["name","camera-outline"],[1,"marcacao-modal"],[1,"marcacao-header"],["fill","clear",3,"click"],["slot","icon-only","name","close"],[1,"marcacao-toolbar"],[1,"cor-selector"],[1,"cores"],[1,"cor-btn",2,"background","#ff0000",3,"click"],[1,"cor-btn",2,"background","#ffff00",3,"click"],[1,"cor-btn",2,"background","#00ff00",3,"click"],[1,"cor-btn",2,"background","#0000ff",3,"click"],[1,"cor-btn",2,"background","#ffffff",3,"click"],[1,"espessura-selector"],["min","3","max","20","step","1","color","primary",3,"ngModelChange","ngModel"],["size","small","color","warning",3,"click"],["slot","start","name","refresh"],[1,"canvas-container"],[3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"marcacao-footer"],["expand","block","color","primary",3,"click"],["slot","start","name","checkmark"],["color","primary"],["name","close"],[1,"ion-padding"],["name","information-circle"],["name","arrow-up"],["name","arrow-down"],["name","arrow-forward"],["name","arrow-back"],["name","create-outline"],["color","warning"],["name","sunny"],["color","success"],["name","checkmark-circle"]],template:function(t,a){1&t&&(o.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-title"),o.EFF(3," Fotos do Ve\xedculo "),o.k0s(),o.j41(4,"ion-buttons",3)(5,"ion-button",4),o.bIt("click",function(){return a.mostrarAjuda()}),o.nrm(6,"ion-icon",5),o.k0s()()()(),o.j41(7,"ion-content",6)(8,"ion-header",7)(9,"ion-toolbar",2)(10,"ion-title",8),o.EFF(11,"Fotos do Ve\xedculo"),o.k0s()()(),o.j41(12,"div",9)(13,"div",10),o.nrm(14,"ion-icon",11),o.j41(15,"p"),o.EFF(16,"Tire fotos do ve\xedculo em todos os \xe2ngulos"),o.k0s()(),o.j41(17,"div",12),o.DNE(18,I,12,8,"ion-card",13),o.k0s(),o.j41(19,"div",14)(20,"ion-button",15),o.bIt("click",function(){return a.salvarFotos()}),o.nrm(21,"ion-icon",16),o.EFF(22," Salvar Fotos "),o.k0s()()(),o.DNE(23,D,30,12,"div",17),o.k0s(),o.j41(24,"ion-modal",18),o.bIt("didDismiss",function(){return a.fecharAjuda()}),o.DNE(25,A,148,0,"ng-template"),o.k0s()),2&t&&(o.Y8G("translucent",!0),o.R7$(7),o.Y8G("fullscreen",!0),o.R7$(11),o.Y8G("ngForOf",a.fotos),o.R7$(2),o.Y8G("disabled",!a.validarFormulario()),o.R7$(3),o.Y8G("ngIf",a.mostrarMarcacao),o.R7$(),o.Y8G("isOpen",a.exibirAjuda))},dependencies:[g.Sq,g.bT,_.BC,_.vS,d.Jm,d.QW,d.b_,d.I9,d.ME,d.HW,d.tN,d.W9,d.eU,d.iq,d.Ob,d.IO,d.BC,d.ai,d.Sb,d.su],styles:[".form-container[_ngcontent-%COMP%]{padding:16px 16px 100px}.info-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#1a1a1a;border:1px solid var(--ion-color-primary);border-radius:12px;padding:16px;margin-bottom:24px}.info-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;flex-shrink:0}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:silver;font-size:15px;line-height:1.4}.fotos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:24px}@media (min-width: 768px){.fotos-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.foto-card[_ngcontent-%COMP%]{--background: #1a1a1a;--color: #ffffff;border:1px solid #404040;border-radius:12px;margin:0}.foto-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-bottom:12px}.foto-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#fff}.foto-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.foto-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-top:0}.foto-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;margin-bottom:12px;font-weight:600;font-size:14px}.foto-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-button[fill=outline][_ngcontent-%COMP%]{--border-color: var(--ion-color-primary);--color: var(--ion-color-primary)}.photo-preview[_ngcontent-%COMP%]{position:relative;margin-top:12px;background:var(--ion-color-dark);border-radius:12px;border:2px solid var(--ion-color-primary);padding:8px;overflow:hidden}.photo-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;min-height:200px;max-height:300px;object-fit:cover;border-radius:8px;display:block}.photo-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;--background: rgba(255, 0, 0, .9);--border-radius: 50%;width:40px;height:40px;margin:0}.photo-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.photo-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;background:#0a0a0a;border:2px dashed #404040;border-radius:12px;margin-top:12px}.photo-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#404040;margin-bottom:12px}.photo-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray;font-size:14px;margin:0}.save-section[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to bottom,transparent,#000000 20%);z-index:10}.save-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 12px;font-size:18px;font-weight:700;height:56px;box-shadow:0 4px 12px #ff00004d}.save-section[_ngcontent-%COMP%]   ion-button[disabled][_ngcontent-%COMP%]{opacity:.4}.marcacao-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000;z-index:1000;display:flex;flex-direction:column}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#1a1a1a;border-bottom:2px solid var(--ion-color-primary)}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:18px;font-weight:600}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #ffffff}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center;padding:16px;background:#1a1a1a;border-bottom:1px solid #404040}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]   .cores[_ngcontent-%COMP%]{display:flex;gap:8px}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]   .cores[_ngcontent-%COMP%]   .cor-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:all .2s}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]   .cores[_ngcontent-%COMP%]   .cor-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .cor-selector[_ngcontent-%COMP%]   .cores[_ngcontent-%COMP%]   .cor-btn.active[_ngcontent-%COMP%]{border-color:#fff;box-shadow:0 0 0 2px var(--ion-color-primary)}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .espessura-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1;min-width:200px}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .espessura-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   .espessura-selector[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{flex:1}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;font-weight:600}.marcacao-modal[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;overflow:auto;background:#0a0a0a;padding:16px}.marcacao-modal[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:2px solid #404040;border-radius:8px;cursor:crosshair;touch-action:none;background:#fff}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-footer[_ngcontent-%COMP%]{padding:16px;background:#1a1a1a;border-top:2px solid var(--ion-color-primary)}.marcacao-modal[_ngcontent-%COMP%]   .marcacao-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 12px;font-size:16px;font-weight:700;height:48px}"]}))}return c(),s})()}];let R=(()=>{var c;class s{static#o=c=()=>(this.\u0275fac=function(t){return new(t||s)},this.\u0275mod=o.$C({type:s}),this.\u0275inj=r.G2t({imports:[b.iI.forChild(w),b.iI]}))}return c(),s})(),G=(()=>{var c;class s{static#o=c=()=>(this.\u0275fac=function(t){return new(t||s)},this.\u0275mod=o.$C({type:s}),this.\u0275inj=r.G2t({imports:[g.MD,_.YN,d.bv,R]}))}return c(),s})()}}]);